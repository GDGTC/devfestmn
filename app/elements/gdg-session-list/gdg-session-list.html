<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="../../../bower_components/core-signals/core-signals.html">


<link rel="import" href="../gdg-session/gdg-session.html">
<link rel="import" href="../../../bower_components/firebase-element/firebase-element.html">

<polymer-element name="gdg-session-list" attributes="viewMode">
  <template>
    <link rel="stylesheet" href="gdg-session-list.css">


    <firebase-element location="https://devfestmn.firebaseio.com/sessions"
                      data="{{sessions}}"
                      keys="{{keys}}"
                      id="sessionsFB"
                      childEvents>
    </firebase-element>


    <template repeat="{{key in keys}}">
      <gdg-session sessionId="{{key}}"></gdg-session>
    </template>


  </template>
  <script>
    (function () {
      Polymer({

        onCardSelected: function (event, sessionKey) {
          console.log('Hello');

          this.$.selected = sessionKey;
        },

        attributeChanged: function (attrName, oldVal, newVal) {
          console.log("Changed");
          this.viewMode = newVal;

          var session = this.shadowRoot.querySelector('gdg-session');
          console.log(session);

        },

        ready: function() {
        }


//        openDetails: function (event, sessionKey) {
//          this.router.go('/sessions/' + sessionKey);
//        }


      });
    })();
  </script>
</polymer-element>
