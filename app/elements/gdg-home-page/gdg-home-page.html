<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../../bower_components/core-list/core-list.html">
<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">

<link rel="import" href="../../../bower_components/firebase-element/firebase-element.html">

<link rel="import" href="../gdg-session-list/gdg-session-list.html">
<link rel="import" href="../gdg-animation-globals/gdg-animation-globals.html">
<link rel="import" href="../gdg-hero/gdg-hero.html">

<polymer-element name="gdg-home-page" attributes="router">

  <template>
    <link rel="stylesheet" href="gdg-home-page.css">

    <gdg-animation-globals values="{{animGlobals}}"></gdg-animation-globals>



    <section id="mainContainer" cross-fade>

      <!-- Hero Banner -->
      <section class="page-section__hero">

        <gdg-hero></gdg-hero>

      </section>

      <!-- Tabs to toggle full schedule vs favorites -->
      <core-toolbar>
        <paper-tabs id="scheduleTabs" selected="list" self-end>
          <paper-tab name="list">Scheduled Events</paper-tab>
          <paper-tab name="favorites">My Favorites</paper-tab>
        </paper-tabs>

      </core-toolbar>

      <!-- Schedule -->
      <section class="content-layout-container">
          <gdg-session-list id="sessionsList" router="{{router}}"></gdg-session-list>
      </section>

    </section>


  </template>

  <script>
    (function (Polymer, undefined) {


      Polymer('gdg-home-page', {

        devfestStartTime: "",

        ready: function () {

          this.devfestStartTime = new Date(2015, 2, 21, 7);
          var tabs = this.$.mainContainer.querySelector('paper-tabs');

          // Only show favorited events when the user selects the 'favorites' tab
          tabs.addEventListener('core-select', function () {
            this.fire('core-signal', {name: 'view-mode', data: tabs.selected});
          });
        }

      });
    }(Polymer));

  </script>

</polymer-element>
