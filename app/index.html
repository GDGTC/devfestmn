<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="description" content="GDG DevFestMN">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DevFest MN</title>
  <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

  <!-- build:css /styles/main.css -->
  <link rel="stylesheet" href="styles/main.css">
  <!-- endbuild-->

  <link href="http://fonts.googleapis.com/css?family=Roboto:400,400italic" rel="stylesheet" type="text/css">
  <link rel="import" href="../bower_components/font-roboto/roboto.html">

  <!-- build:js /bower_components/webcomponentsjs/webcomponents.min.js -->
  <script src="/bower_components/webcomponentsjs/webcomponents.js"></script>
  <!-- endbuild -->


  <!--<script src="scripts/wc_detector.js"></script>-->

  <!-- will be replaced with /elements/elements.vulcanized.html -->
  <link rel="import" href="elements/elements.html">
  <!-- endreplace-->
</head>

<body unresolved fullbleed layout vertical>
<template is="auto-binding" id="app">

  <firebase-login id="baseLogin"
                  user="{{user}}"
                  statusKnown="{{statusKnown}}"
                  location="https://devfestmn.firebaseio.com"
                  provider="google"
                  on-login="{{onLogin}}"
                  on-error="{{onLoginError}}">
  </firebase-login>

  <firebase-element id="fbUsers"
                    location="https://devfestmn.firebaseio.com/users"
                    data="{{userList}}"
                    keys="{{users}}">
  </firebase-element>


  <gdg-globals values="{{globals}}"></gdg-globals>

  <core-drawer-panel forceNarrow>

    <!-- Drawer -->
    <core-header-panel drawer id="sidePanel">

      <!-- Drawer Toolbar -->
      <core-toolbar>Menu</core-toolbar>

      <!-- Drawer Content -->

      <!-- Main Menu -->
      <core-menu selected="0">
        <core-item label="Schedule"></core-item>
        <core-item label="Map"></core-item>
        <core-item label="My Favorites"></core-item>
        <core-item label="NFC Scavenger Hunt"></core-item>
        <core-item label="About"></core-item>
      </core-menu>

      <!-- Social media feed -->
      <h2 class="sidenav-header">Signed-In Users</h2>
      <core-header-panel>
        <core-list id="feed"
                   data="{{userList}}"
                   scrollTarget="{{$.sidePanel.scroller}}">

          <template repeat="{{user in users}}">
            <div class="row">
              {{user}}
              <p>Test content</p>
            </div>
          </template>

        </core-list>
      </core-header-panel>

    </core-header-panel>

    <!-- Main -->
    <core-header-panel main condenses id="mainPanel" mode="waterfall-tall">

      <!-- Main Toolbar -->
      <core-toolbar>

        <paper-icon-button icon="menu" core-drawer-toggle></paper-icon-button>

        <div flex>{{appName}}</div>

        <template if="{{user}}">
          <div class="user-status-container">
            <p>Hello, {{user.google.displayName}}!</p>

            <div style="margin-left: 20px;" class="profile-pic-container">
              <img class="profile-pic" src="{{ user.google.cachedUserProfile.picture }}">
            </div>
          </div>
        </template>

        <paper-menu-button halign="right" valign="top">
          <paper-icon-button icon="social:person"></paper-icon-button>

          <paper-dropdown class="dropdown" transition="" halign="right">

            <core-menu class="menu">
              <paper-item on-click="{{login}}" hidden?="{{ !statusKnown || user }}">
                Login
              </paper-item>

              <paper-item on-click="{{logout}}" hidden?="{{ !statusKnown || !user }}">
                Logout
              </paper-item>
            </core-menu>

          </paper-dropdown>
        </paper-menu-button>


      </core-toolbar>

      <!-- Main Content -->

      <!--
      <core-animated-pages selected="0"
                           transition="fade-scale">
          <section>
              <home-page-list></home-page-list>
          </section>
          <section>
              <session-info-page fade-scale></session-info-page>
          </section>

      </core-core-animated-pages>
      -->

      <div class="content">

          <gdg-home-page></gdg-home-page>



        <!--
        <app-router core-animated-pages transitions="hero-transition cross-fade scale-up tile-cascade">

          <app-route path="/"
                     import="elements/gdg-home-page/gdg-home-page.html"
                     bindRouter>
          </app-route>

          <app-route path="/presentations/:presentationId"
                     import="elements/gdg-presentation-details/gdg-presentation-details.html"
                     bindRouter>
          </app-route>
        </app-router>
        -->
      </div>


    </core-header-panel>
  </core-drawer-panel>

</template>


<!-- build:js /scripts/app.js -->
<script src="/scripts/app.js"></script>
<!-- endbuild-->

<script>


</script>
</body>

</html>
