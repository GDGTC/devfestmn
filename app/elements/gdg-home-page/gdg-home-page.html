<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../../../bower_components/core-list/core-list.html">
<link rel="import" href="../../../bower_components/paper-tabs/paper-tabs.html">

<link rel="import" href="../../../bower_components/firebase-element/firebase-element.html">

<link rel="import" href="../gdg-session-list/gdg-session-list.html">
<link rel="import" href="../gdg-countdown/gdg-countdown.html">


<polymer-element name="gdg-home-page" attributes="router">

  <template>
    <link rel="stylesheet" href="gdg-home-page.css">


    <section id="mainContainer" cross-fade>

      <!-- Hero Banner -->
      <section class="hero-container">

        <div class="hero-unit">
          <h3>Countdown to DevFest 2015</h3>
          <gdg-countdown targetTime={{devfestStartTime}}></gdg-countdown>
          <p>This will be a full-width banner that floats a bit over the header</p>
        </div>
      </section>

      <!-- Tabs to toggle full schedule vs favorites -->
      <core-toolbar>
        <paper-tabs id="scheduleTabs" selected="list" self-end>
          <paper-tab name="list">Scheduled Events</paper-tab>
          <paper-tab name="favorites">My Favorites</paper-tab>
        </paper-tabs>

      </core-toolbar>

      <!-- Schedule -->
      <section class="content-layout-container">
          <gdg-session-list id="sessionsList" router="router"></gdg-session-list>
      </section>

    </section>


  </template>

  <script>
    (function () {
      Polymer({

        devfestStartTime: new Date(2015, 2, 21, 7),

        ready: function () {
          var tabs = this.$.mainContainer.querySelector('paper-tabs');
          var sessionsList = this.$.mainContainer.querySelector('#sessionsList');

          // Only show favorited events when the user selects the 'favorites' tab
          tabs.addEventListener('core-select', function () {
            this.fire('core-signal', {name: 'view-mode', data: tabs.selected});
          });


//          // Listen for presentation selection so we can transition to the detail page
//          var gdgHomePage = document.querySelector('gdg-home-page');
//          gdgHomePage.addEventListener('presentation-selected')

        },

        onPresentationClick: function (e, presentationId) {
          this.router.go('/presentations/' + presentationId);
        }




      });
    })();

  </script>

</polymer-element>
