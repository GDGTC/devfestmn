<link rel="import" href="../../../bower_components/polymer/polymer.html">

<polymer-element name="gdg-countdown" attributes="targetTime">

  <template>
    <link rel="stylesheet" href="gdg-countdown.css">

    <div class="time-container">
        <p>Hello!</p>
        <p id="countdownTimeElem">{{countdownTime}}</p>
    </div>

  </template>

  <script src="../../../bower_components/countdown.js/lib/countdown.js"></script>

  <script>
    (function () {
      Polymer({
        // define element prototype here

        requestAnimationFrame: window.requestAnimationFrame ||
                               window.mozRequestAnimationFrame ||
                               window.msRequestAnimationFrame ||
                               window.oRequestAnimationFrame ||
                               window.webkitRequestAnimationFrame,

        count: function () {
          console.log('Counting!');
          //this.countdownTime = countdown(this.targetTime).toString();
          this.countdownTime--; 
          this.async(this.count, null, 1000);
        },

        ready: function () {
          this.countdownTime = 20;
          this.count();
        }

      });
    })();
  </script>
</polymer-element>
